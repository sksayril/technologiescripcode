"use strict";exports.id=686,exports.ids=[686],exports.modules={7686:(e,t,r)=>{r.d(t,{M:()=>g});var n=r(80),s=r(9885),o=r(8549),i=r(4349),l=r(9386),u=r(5248);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:t}){let r=(0,s.useId)(),o=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0}),{nonce:l}=(0,s.useContext)(u._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:n,top:s,left:u}=i.current;if(t||!o.current||!e||!n)return;o.current.dataset.motionPopId=r;let d=document.createElement("style");return l&&(d.nonce=l),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            top: ${s}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),(0,n.jsx)(d,{isPresent:t,childRef:o,sizeRef:i,children:s.cloneElement(e,{ref:o})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:o,custom:u,presenceAffectsLayout:d,mode:h})=>{let c=(0,i.h)(a),f=(0,s.useId)(),m=(0,s.useCallback)(e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;o&&o()},[c,o]),x=(0,s.useMemo)(()=>({id:f,initial:t,isPresent:r,custom:u,onExitComplete:m,register:e=>(c.set(e,!1),()=>c.delete(e))}),d?[Math.random(),m]:[r,m]);return(0,s.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),s.useEffect(()=>{r||c.size||!o||o()},[r]),"popLayout"===h&&(e=(0,n.jsx)(p,{isPresent:r,children:e})),(0,n.jsx)(l.O.Provider,{value:x,children:e})};function a(){return new Map}var c=r(1886);let f=e=>e.key||"";function m(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}var x=r(381);let g=({children:e,custom:t,initial:r=!0,onExitComplete:l,presenceAffectsLayout:u=!0,mode:d="sync",propagate:p=!1})=>{let[a,g]=(0,c.oO)(p),v=(0,s.useMemo)(()=>m(e),[e]),E=p&&!a?[]:v.map(f),C=(0,s.useRef)(!0),R=(0,s.useRef)(v),M=(0,i.h)(()=>new Map),[P,j]=(0,s.useState)(v),[w,y]=(0,s.useState)(v);(0,x.L)(()=>{C.current=!1,R.current=v;for(let e=0;e<w.length;e++){let t=f(w[e]);E.includes(t)?M.delete(t):!0!==M.get(t)&&M.set(t,!1)}},[w,E.length,E.join("-")]);let $=[];if(v!==P){let e=[...v];for(let t=0;t<w.length;t++){let r=w[t],n=f(r);E.includes(n)||(e.splice(t,0,r),$.push(r))}"wait"===d&&$.length&&(e=$),y(m(e)),j(v);return}let{forceRender:I}=(0,s.useContext)(o.p);return(0,n.jsx)(n.Fragment,{children:w.map(e=>{let s=f(e),o=(!p||!!a)&&(v===w||E.includes(s));return(0,n.jsx)(h,{isPresent:o,initial:(!C.current||!!r)&&void 0,custom:o?void 0:t,presenceAffectsLayout:u,mode:d,onExitComplete:o?void 0:()=>{if(!M.has(s))return;M.set(s,!0);let e=!0;M.forEach(t=>{t||(e=!1)}),e&&(null==I||I(),y(R.current),p&&(null==g||g()),l&&l())},children:e},s)})})}}};